"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[128],{1143:function(e,t,a){a.r(t),a.d(t,{frontMatter:function(){return s},metadata:function(){return l},toc:function(){return c},default:function(){return d}});var n=a(7462),o=a(3366),r=(a(7294),a(3905)),i=["components"],s={slug:"/",id:"introduction",title:"Introduction"},l={unversionedId:"introduction",id:"introduction",isDocsHomePage:!1,title:"Introduction",description:"Spectacles is a distributed Discord bot framework.",source:"@site/docs/introduction.md",sourceDirName:".",slug:"/",permalink:"/docs/",editUrl:"https://github.com/spec-tacles/website/edit/master/website/docs/introduction.md",version:"current",frontMatter:{slug:"/",id:"introduction",title:"Introduction"},sidebar:"docs",next:{title:"Gateway",permalink:"/docs/gateway"}},c=[{value:"Gateway",id:"gateway",children:[]},{value:"Proxy",id:"proxy",children:[]},{value:"Message Broker",id:"message-broker",children:[]},{value:"Command Handler",id:"command-handler",children:[]}],u={toc:c};function d(e){var t=e.components,s=(0,o.Z)(e,i);return(0,r.kt)("wrapper",(0,n.Z)({},u,s,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Spectacles is a distributed Discord bot framework."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Architecture",src:a(654).Z})),(0,r.kt)("p",null,"A basic Spectacles bot runs 4 services:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Gateway"),(0,r.kt)("li",{parentName:"ol"},"Proxy"),(0,r.kt)("li",{parentName:"ol"},"Message broker"),(0,r.kt)("li",{parentName:"ol"},"Command handler")),(0,r.kt)("p",null,"The Spectacles organization provides the gateway and proxy services. You are responsible for\nwriting your own command handler (that's why you're here, after all)."),(0,r.kt)("p",null,"Each of these services is fully stateless and can be easily scaled up or down across machines."),(0,r.kt)("h2",{id:"gateway"},"Gateway"),(0,r.kt)("p",null,"The gateway is a separate application that is solely responsible for connecting to Discord,\ningesting events, and publishing them to RabbitMQ. It handles everything related to the Discord\ngateway:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Sharding"),(0,r.kt)("li",{parentName:"ul"},"Intents"),(0,r.kt)("li",{parentName:"ul"},"Reconnection"),(0,r.kt)("li",{parentName:"ul"},"Gateway ratelimits")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"gateway"},"More info")),(0,r.kt)("h2",{id:"proxy"},"Proxy"),(0,r.kt)("p",null,"The proxy is responsible for handling all of the outgoing HTTP requests to Discord. It ensures that\nyour bot complies with Discord's ratelimits under any circumstance. Eventually, the proxy will also\ncache data and ensure that you never run into a performance bottleneck while fetching Discord data\nin your application."),(0,r.kt)("p",null,"Your applications publish requests to the message broker. The proxy consumes these and sends them\nto Discord as soon as possible. The proxy is responsible for:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"HTTP ratelimits"),(0,r.kt)("li",{parentName:"ul"},"Caching (soon)")),(0,r.kt)("h2",{id:"message-broker"},"Message Broker"),(0,r.kt)("p",null,"Spectacles supports 2 message broker options:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Redis"),(0,r.kt)("li",{parentName:"ol"},"RabbitMQ")),(0,r.kt)("p",null,"We recommend Redis, since it is generally more performant and you will need to use it with the\ngateway and proxy."),(0,r.kt)("h2",{id:"command-handler"},"Command Handler"),(0,r.kt)("p",null,"Your command handler is where all of your normal bot logic happens. Here you consume messages from\nthe gateway, do any bot logic that you want, and maybe send messages back to the proxy. Spectacles\nprovides numerous client libraries that you can use to interact with the other Spectacles services."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"JavaScript"),(0,r.kt)("li",{parentName:"ul"},"C#"),(0,r.kt)("li",{parentName:"ul"},"Go"),(0,r.kt)("li",{parentName:"ul"},"Rust")))}d.isMDXComponent=!0},654:function(e,t,a){t.Z=a.p+"assets/images/architecture-a4d8d9c8f5d9db4e57c59170966c69a2.svg"}}]);